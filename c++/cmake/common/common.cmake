
MACRO(OBJCT_TEMPLATE ObjDir)
    CUR_DIR(DirName ${ObjDir})
    SET(OUTPUT_DIRS  ${CPP_BIN_DIR}/${DirName})
    SET(RES_DIRS  ${CPP_RES_DIR}/${DirName})
    SET(UNSET_VARIABLES  TARGET_SRC_DIRS TARGET_RES_DIRS TARGET_OUTPUT_DIRS TARGET_INCLUDE_DIRS TARGET_SOURCES)
    SUB_DIRS(SOURCE_DIRS ${ObjDir})
    FOREACH(EXAMPLE ${SOURCE_DIRS})
        FOREACH(UNSET_TARGET ${UNSET_VARIABLES})
            UNSET(${UNSET_TARGET})
        ENDFOREACH(UNSET_TARGET)
        SET(TARGET_SRC_DIRS  ${ObjDir}/${EXAMPLE})
        SET(TARGET_RES_DIRS  ${RES_DIRS}/${EXAMPLE})
        SET(TARGET_OUTPUT_DIRS  ${OUTPUT_DIRS}/${EXAMPLE})
        SET(TARGET_INCLUDE_DIRS ${ObjDir}/${EXAMPLE})
        STRING(REPLACE "-" ";" Name ${EXAMPLE})
        LIST(GET Name 1 LOC_TARGET)
        STRING(CONCAT TARGET "${PROJECT_NAME}-${EXAMPLE}")
        AUX_SOURCE_DIRECTORY(${TARGET_SRC_DIRS} TARGET_SOURCES)
        ADD_EXECUTABLE(${TARGET} ${TARGET_SOURCES} ${PROJ_SOURCES})
        TARGET_INCLUDE_DIRECTORIES(${TARGET} PRIVATE ${TARGET_INCLUDE_DIRS})
        SET_TARGET_PROPERTIES(${TARGET} PROPERTIES
                CMAKE_DEBUG_POSTFIX         "_d"
                ARCHIVE_OUTPUT_DIRECTORY    "${TARGET_OUTPUT_DIRS}"
                LIBRARY_OUTPUT_DIRECTORY    "${TARGET_OUTPUT_DIRS}"
                RUNTIME_OUTPUT_DIRECTORY    "${TARGET_OUTPUT_DIRS}"
                )
        IF(IS_DIRECTORY ${TARGET_RES_DIRS})
            UNSET(TARGET_ResFiles)
            FILE(GLOB TARGET_ResFiles "${TARGET_RES_DIRS}/*")
            FILE(COPY ${TARGET_ResFiles} DESTINATION ${TARGET_OUTPUT_DIRS})
        ELSE()
        ENDIF()
    ENDFOREACH(EXAMPLE)
    UNSET(PROJ_SOURCES)
ENDMACRO(OBJCT_TEMPLATE)
